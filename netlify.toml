[build]
  publish = "."
  command = ""

[[plugins]]
  package = "@netlify/plugin-minify-html"

[[headers]]
  for = "/index.html"
  [headers.values]
    Cache-Control = "public, max-age=0, must-revalidate"

# Force HTTPS
[[redirects]]
  from = "http://slotenmakeramsterdamwest.amsterdam/*"
  to = "https://slotenmakeramsterdamwest.amsterdam/:splat"
  status = 301
  force = true

# Block public access to old path
[[redirects]]
  from = "/opdrachtbon"
  to = "/404.html"
  status = 404
  force = true

[[redirects]]
  from = "/opdrachtbon/*"
  to = "/404.html"
  status = 404
  force = true

# Allow the secret page to be accessible (handled by Basic Auth in _headers)
[[headers]]
  for = "/opdrachtbonalleenvoormij.html"
  [headers.values]
    X-Robots-Tag = "noindex, nofollow, noarchive"
